{"version":3,"sources":["components/Header.js","components/SearchFilter.js","components/AddPeopleForm.js","components/Person.js","components/Persons.js","components/Notification.js","services/personService.js","App.js","index.js"],"names":["Header","text","SearchFilter","handleSearch","onChange","AddPeopleForm","handleNameChange","handleNumberChange","addPerson","newName","newNumber","onSubmit","value","type","Person","person","deletePerson","name","number","onClick","id","Persons","filteredPersons","map","i","Notification","message","errorStatus","className","baseUrl","axios","get","then","response","data","newPerson","post","newObject","put","delete","App","useState","persons","setPersons","setNewName","setNewNumber","setFilteredPersons","errorMessage","setErrorMessage","setErrorStatus","useEffect","personService","peopleList","console","log","handleNotifications","status","setTimeout","event","searchEntry","target","toLowerCase","length","filter","includes","alertText","preventDefault","personObject","foundID","find","p","checkDuplicatePerson","window","confirm","updatedPerson","personList","concat","concatPersonLists","catch","error","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1f3c64e1.chunk.js","sourcesContent":["import React from 'react';\n\nconst Header = ({ text }) => <h2>{text}</h2> \n\nexport default Header","import React from 'react';\n\nconst SearchFilter = ({ text, handleSearch }) => <div>{text} <input onChange={handleSearch} /></div>\n\nexport default SearchFilter","import React from 'react';\n\nconst AddPeopleForm = ({ handleNameChange, handleNumberChange, addPerson, newName, newNumber }) => {\n\n    return (\n        <form onSubmit={addPerson}>\n            <div>\n            name: <input value={newName} onChange={handleNameChange} />\n            </div>\n            <div>\n            number: <input value={newNumber} onChange={handleNumberChange} />\n            </div>\n            <div>\n            <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default AddPeopleForm","import React from 'react';\n\nconst Person = ({ person, deletePerson }) => {\n    return(\n        <p>{person.name} {person.number} <button onClick={() => deletePerson(person.name, person.id)}>delete</button></p>\n    )\n}\n\nexport default Person","import React from 'react';\n\nimport Person from './Person'\n\nconst Persons = ({ filteredPersons, deletePerson }) => filteredPersons.map((person, i) => {\n    return <Person key={i} person={person} deletePerson={deletePerson} />\n})\n\nexport default Persons","import React from 'react';\n\nimport '../styles/Notification.css'\n\nconst Notification = ({ message, errorStatus }) => {\n    if(message === null) {\n        return null\n    }\n\n    return(\n        <div className={errorStatus ? 'error' : 'alert'}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification;","import axios from 'axios'\n\nconst baseUrl = \"http://localhost:3001/api/persons\"\n\nconst getAll = () => {\n    return axios.get(baseUrl).then(response => response.data)\n}\n\nconst create = newPerson => {\n    return axios.post(baseUrl, newPerson).then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    return axios.put(`${baseUrl}/${id}`, newObject).then(response => response.data)\n  }\n\nconst deleteObject = id => {\n    return axios.delete(`${baseUrl}/${id}`).then(response => response.data)\n}\n\n// eslint-disable-next-line\nexport default { getAll, create, update, deleteObject }","import React, { useState, useEffect } from 'react'\n\nimport Header from './components/Header'\nimport SearchFilter from './components/SearchFilter'\nimport AddPeopleForm from './components/AddPeopleForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport personService from './services/personService'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filteredPersons, setFilteredPersons ] = useState([])\n  const [ errorMessage, setErrorMessage ] = useState(null)\n  const [ errorStatus, setErrorStatus ] = useState(true)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(peopleList => {\n        console.log(\"initial data\", peopleList);\n        setPersons(peopleList)\n        setFilteredPersons(peopleList)\n      })\n  }, [])\n\n  const handleNameChange = (event) => setNewName(event.target.value);\n\n  const handleNumberChange = (event) => setNewNumber(event.target.value); \n\n  const handleSearch = (event) => {\n    let searchEntry = (event.target.value).toLowerCase()\n\n    if(searchEntry.length > 0) {\n      setFilteredPersons(persons.filter(person => person.name.toLowerCase().includes(searchEntry)))\n    } else {\n      setFilteredPersons([...persons])\n    }\n  }\n\n  const handleNotifications = (message, status) => {\n    setErrorMessage(message)\n    setErrorStatus(status)\n    setTimeout(() => {\n      setErrorMessage(null)\n    }, 5000)\n  }\n\n  const checkDuplicatePerson = (person) => {\n    let foundID = persons.find(p => p.name === person.name) ? (persons.find(p => p.name === person.name)).id : 0 \n    if (foundID === 0) {\n      return false\n    }\n    return foundID\n  }\n\n  const concatPersonLists = (personObject) => {\n    setPersons(persons.concat(personObject))\n    setFilteredPersons(persons.concat(personObject))\n  }\n\n  const addPerson = (event) => {\n    const alertText = `${newName} already exists. Update their phone number?`\n    event.preventDefault();\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    let foundID = checkDuplicatePerson(personObject)\n    if(foundID) {\n      if(window.confirm(alertText)) {\n        personService\n          .update(foundID, personObject)\n          .then(updatedPerson => {\n            handleNotifications(`Changed number of ${personObject.name}`, false)\n            setFilteredPersons(filteredPersons.map(person => person.name === newName ? updatedPerson : person))\n            setPersons(filteredPersons)\n          })\n      }\n    } else {\n      personService\n        .create(personObject)\n        .then(personList => {\n          handleNotifications(`${personObject.name} was added to the list`, false)\n          concatPersonLists(personList)\n          setNewName('');\n          setNewNumber('');\n        })\n    }\n  }\n\n  const deletePerson = (name, id) => {\n    if(window.confirm(`Delete ${name}?`)) {\n      personService\n      .deleteObject(id)\n      .then(() => {\n        handleNotifications(`${name} was removed from the list`, false)\n        setFilteredPersons(filteredPersons.filter(person => person.id !== id))\n        setPersons(filteredPersons)\n      })\n      .catch(error => {\n        console.log(\"Caught Error\", error);\n        handleNotifications(`${name} has already been removed from the list`, true)\n        setFilteredPersons(filteredPersons.filter(person => person.id !== id))\n        setPersons(filteredPersons)\n      })\n    } \n  }\n\n  return (\n    <div>\n      <Notification message={errorMessage} errorStatus={errorStatus} />\n      <Header text=\"Phonebook\" />\n      <SearchFilter text=\"filter shown with\" handleSearch={handleSearch} />\n      <Header text=\"add a new\" />\n      <AddPeopleForm \n        handleNameChange={handleNameChange} \n        handleNumberChange={handleNumberChange} \n        addPerson={addPerson} \n        newName={newName} newNumber={newNumber} \n      />\n      <Header text=\"Numbers\" />\n      <Persons filteredPersons={filteredPersons} deletePerson={deletePerson} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}