{"code":"(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{23:function(e,n,t){},42:function(e,n,t){\"use strict\";t.r(n);var r=t(1),c=t.n(r),a=t(16),o=t.n(a),u=t(17),i=t(3),s=t(0),d=function(e){var n=e.text;return Object(s.jsx)(\"h2\",{children:n})},j=function(e){var n=e.text,t=e.handleSearch;return Object(s.jsxs)(\"div\",{children:[n,\" \",Object(s.jsx)(\"input\",{onChange:t})]})},l=function(e){var n=e.handleNameChange,t=e.handleNumberChange,r=e.addPerson,c=e.newName,a=e.newNumber;return Object(s.jsxs)(\"form\",{onSubmit:r,children:[Object(s.jsxs)(\"div\",{children:[\"name: \",Object(s.jsx)(\"input\",{value:c,onChange:n})]}),Object(s.jsxs)(\"div\",{children:[\"number: \",Object(s.jsx)(\"input\",{value:a,onChange:t})]}),Object(s.jsx)(\"div\",{children:Object(s.jsx)(\"button\",{type:\"submit\",children:\"add\"})})]})},b=function(e){var n=e.person,t=e.deletePerson;return Object(s.jsxs)(\"p\",{children:[n.name,\" \",n.number,\" \",Object(s.jsx)(\"button\",{onClick:function(){return t(n.name,n.id)},children:\"delete\"})]})},f=function(e){var n=e.filteredPersons,t=e.deletePerson;return n.map((function(e,n){return Object(s.jsx)(b,{person:e,deletePerson:t},n)}))},h=(t(23),function(e){var n=e.message,t=e.errorStatus;return null===n?null:Object(s.jsx)(\"div\",{className:t?\"error\":\"alert\",children:n})}),m=t(5),O=t.n(m),x=\"/api/persons\",v=function(){return O.a.get(x).then((function(e){return e.data}))},p=function(e){return O.a.post(x,e).then((function(e){return e.data}))},g=function(e,n){return O.a.put(\"\".concat(x,\"/\").concat(e),n).then((function(e){return e.data}))},w=function(e){return O.a.delete(\"\".concat(x,\"/\").concat(e)).then((function(e){return e.data}))},C=function(){var e=Object(r.useState)([]),n=Object(i.a)(e,2),t=n[0],c=n[1],a=Object(r.useState)(\"\"),o=Object(i.a)(a,2),b=o[0],m=o[1],O=Object(r.useState)(\"\"),x=Object(i.a)(O,2),C=x[0],S=x[1],N=Object(r.useState)([]),P=Object(i.a)(N,2),k=P[0],y=P[1],E=Object(r.useState)(null),D=Object(i.a)(E,2),J=D[0],L=D[1],B=Object(r.useState)(!0),I=Object(i.a)(B,2),M=I[0],T=I[1];Object(r.useEffect)((function(){v().then((function(e){console.log(\"initial data\",e),c(e),y(e)}))}),[]);var U=function(e,n){L(e),T(n),setTimeout((function(){L(null)}),5e3)};return Object(s.jsxs)(\"div\",{children:[Object(s.jsx)(h,{message:J,errorStatus:M}),Object(s.jsx)(d,{text:\"Phonebook\"}),Object(s.jsx)(j,{text:\"filter shown with\",handleSearch:function(e){var n=e.target.value.toLowerCase();n.length>0?y(t.filter((function(e){return e.name.toLowerCase().includes(n)}))):y(Object(u.a)(t))}}),Object(s.jsx)(d,{text:\"add a new\"}),Object(s.jsx)(l,{handleNameChange:function(e){return m(e.target.value)},handleNumberChange:function(e){return S(e.target.value)},addPerson:function(e){var n=\"\".concat(b,\" already exists. Update their phone number?\");e.preventDefault();var r={name:b,number:C},a=function(e){var n=t.find((function(n){return n.name===e.name}))?t.find((function(n){return n.name===e.name})).id:0;return 0!==n&&n}(r);a?window.confirm(n)&&g(a,r).then((function(e){U(\"Changed number of \".concat(r.name),!1),y(k.map((function(n){return n.name===b?e:n}))),c(k)})):p(r).then((function(e){U(\"\".concat(r.name,\" was added to the list\"),!1),function(e){c(t.concat(e)),y(t.concat(e))}(e),m(\"\"),S(\"\")})).catch((function(e){U(e.response.data.error,!0)}))},newName:b,newNumber:C}),Object(s.jsx)(d,{text:\"Numbers\"}),Object(s.jsx)(f,{filteredPersons:k,deletePerson:function(e,n){window.confirm(\"Delete \".concat(e,\"?\"))&&w(n).then((function(){U(\"\".concat(e,\" was removed from the list\"),!1),y(k.filter((function(e){return e.id!==n}))),c(k)})).catch((function(t){console.log(\"Caught Error\",t),U(\"\".concat(e,\" has already been removed from the list\"),!0),y(k.filter((function(e){return e.id!==n}))),c(k)}))}})]})};o.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(C,{})}),document.getElementById(\"root\"))}},[[42,1,2]]]);","name":"static/js/main.ed8e4807.chunk.js","map":{"version":3,"sources":["static/js/main.ed8e4807.chunk.js"],"names":["this","push","23","module","exports","__webpack_require__","42","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","toConsumableArray","slicedToArray","jsx_runtime","components_Header","_ref","text","Object","children","components_SearchFilter","handleSearch","onChange","components_AddPeopleForm","handleNameChange","handleNumberChange","addPerson","newName","newNumber","onSubmit","value","type","components_Person","person","deletePerson","name","number","onClick","id","components_Persons","filteredPersons","map","i","components_Notification","message","errorStatus","className","axios","axios_default","baseUrl","personService","a","get","then","response","data","newPerson","post","newObject","put","concat","delete","src_App","_useState","_useState2","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setFilteredPersons","_useState9","_useState10","errorMessage","setErrorMessage","_useState11","_useState12","setErrorStatus","peopleList","console","log","handleNotifications","status","setTimeout","event","searchEntry","target","toLowerCase","length","filter","includes","alertText","preventDefault","personObject","foundID","find","p","checkDuplicatePerson","window","confirm","updatedPerson","personList","concatPersonLists","catch","error","render","StrictMode","document","getElementById"],"mappings":"CAACA,KAA4B,sBAAIA,KAA4B,uBAAK,IAAIC,KAAK,CAAC,CAAC,GAAG,CAE1EC,GACA,SAAUC,EAAQC,EAASC,KAM3BC,GACA,SAAUH,EAAQI,EAAqBF,GAE7C,aAEAA,EAAoBG,EAAED,GAGtB,IAAIE,EAAQJ,EAAoB,GAC5BK,EAA6BL,EAAoBM,EAAEF,GAGnDG,EAAYP,EAAoB,IAChCQ,EAAiCR,EAAoBM,EAAEC,GAGvDE,EAAoBT,EAAoB,IAGxCU,EAAgBV,EAAoB,GAGpCW,EAAcX,EAAoB,GAG4HY,EAAhJ,SAAgBC,GAAM,IAAIC,EAAKD,EAAKC,KAAK,OAAmBC,OAAOJ,EAAiB,IAAxBI,CAA2B,KAAK,CAACC,SAASF,KAE4KG,EAAtQ,SAAsBJ,GAAM,IAAIC,EAAKD,EAAKC,KAAKI,EAAaL,EAAKK,aAAa,OAAmBH,OAAOJ,EAAkB,KAAzBI,CAA4B,MAAM,CAACC,SAAS,CAACF,EAAK,IAAiBC,OAAOJ,EAAiB,IAAxBI,CAA2B,QAAQ,CAACI,SAASD,QAEwjBE,EAAvwB,SAAuBP,GAAM,IAAIQ,EAAiBR,EAAKQ,iBAAiBC,EAAmBT,EAAKS,mBAAmBC,EAAUV,EAAKU,UAAUC,EAAQX,EAAKW,QAAQC,EAAUZ,EAAKY,UAAU,OAAmBV,OAAOJ,EAAkB,KAAzBI,CAA4B,OAAO,CAACW,SAASH,EAAUP,SAAS,CAAcD,OAAOJ,EAAkB,KAAzBI,CAA4B,MAAM,CAACC,SAAS,CAAC,SAAsBD,OAAOJ,EAAiB,IAAxBI,CAA2B,QAAQ,CAACY,MAAMH,EAAQL,SAASE,OAAmCN,OAAOJ,EAAkB,KAAzBI,CAA4B,MAAM,CAACC,SAAS,CAAC,WAAwBD,OAAOJ,EAAiB,IAAxBI,CAA2B,QAAQ,CAACY,MAAMF,EAAUN,SAASG,OAAqCP,OAAOJ,EAAiB,IAAxBI,CAA2B,MAAM,CAACC,SAAsBD,OAAOJ,EAAiB,IAAxBI,CAA2B,SAAS,CAACa,KAAK,SAASZ,SAAS,cAErYa,EAAhW,SAAgBhB,GAAM,IAAIiB,EAAOjB,EAAKiB,OAAOC,EAAalB,EAAKkB,aAAa,OAAmBhB,OAAOJ,EAAkB,KAAzBI,CAA4B,IAAI,CAACC,SAAS,CAACc,EAAOE,KAAK,IAAIF,EAAOG,OAAO,IAAiBlB,OAAOJ,EAAiB,IAAxBI,CAA2B,SAAS,CAACmB,QAAQ,WAAmB,OAAOH,EAAaD,EAAOE,KAAKF,EAAOK,KAAMnB,SAAS,eAEboB,EAAhS,SAAiBvB,GAAM,IAAIwB,EAAgBxB,EAAKwB,gBAAgBN,EAAalB,EAAKkB,aAAa,OAAOM,EAAgBC,KAAI,SAASR,EAAOS,GAAG,OAAmBxB,OAAOJ,EAAiB,IAAxBI,CAA2Bc,EAAkB,CAACC,OAAOA,EAAOC,aAAaA,GAAcQ,OAKsBC,GAHvQxC,EAAoB,IAGhB,SAAsBa,GAAM,IAAI4B,EAAQ5B,EAAK4B,QAAQC,EAAY7B,EAAK6B,YAAY,OAAa,OAAVD,EAAuB,KAAyB1B,OAAOJ,EAAiB,IAAxBI,CAA2B,MAAM,CAAC4B,UAAUD,EAAY,QAAQ,QAAQ1B,SAASyB,MAEhPG,EAAQ5C,EAAoB,GAC5B6C,EAA6B7C,EAAoBM,EAAEsC,GAGnDE,EAAQ,eACqBC,EADmB,WAAkB,OAAOF,EAAcG,EAAEC,IAAIH,GAASI,MAAK,SAASC,GAAU,OAAOA,EAASC,SACjHL,EADoJ,SAAgBM,GAAW,OAAOR,EAAcG,EAAEM,KAAKR,EAAQO,GAAWH,MAAK,SAASC,GAAU,OAAOA,EAASC,SACtQL,EADyS,SAAgBZ,EAAGoB,GAAW,OAAOV,EAAcG,EAAEQ,IAAI,GAAGC,OAAOX,EAAQ,KAAKW,OAAOtB,GAAIoB,GAAWL,MAAK,SAASC,GAAU,OAAOA,EAASC,SACvbL,EADge,SAAsBZ,GAAI,OAAOU,EAAcG,EAAEU,OAAO,GAAGD,OAAOX,EAAQ,KAAKW,OAAOtB,IAAKe,MAAK,SAASC,GAAU,OAAOA,EAASC,SAI+zBO,EADv7C,WAAe,IAAIC,EAAU7C,OAAOX,EAAgB,SAAvBW,CAA0B,IAAI8C,EAAW9C,OAAOL,EAA+B,EAAtCK,CAAyC6C,EAAU,GAAGE,EAAQD,EAAW,GAAGE,EAAWF,EAAW,GAAOG,EAAWjD,OAAOX,EAAgB,SAAvBW,CAA0B,IAAIkD,EAAWlD,OAAOL,EAA+B,EAAtCK,CAAyCiD,EAAW,GAAGxC,EAAQyC,EAAW,GAAGC,EAAWD,EAAW,GAAOE,EAAWpD,OAAOX,EAAgB,SAAvBW,CAA0B,IAAIqD,EAAWrD,OAAOL,EAA+B,EAAtCK,CAAyCoD,EAAW,GAAG1C,EAAU2C,EAAW,GAAGC,EAAaD,EAAW,GAAOE,EAAWvD,OAAOX,EAAgB,SAAvBW,CAA0B,IAAIwD,EAAWxD,OAAOL,EAA+B,EAAtCK,CAAyCuD,EAAW,GAAGjC,EAAgBkC,EAAW,GAAGC,EAAmBD,EAAW,GAAOE,EAAW1D,OAAOX,EAAgB,SAAvBW,CAA0B,MAAM2D,EAAY3D,OAAOL,EAA+B,EAAtCK,CAAyC0D,EAAW,GAAGE,EAAaD,EAAY,GAAGE,EAAgBF,EAAY,GAAOG,EAAY9D,OAAOX,EAAgB,SAAvBW,EAA0B,GAAM+D,EAAY/D,OAAOL,EAA+B,EAAtCK,CAAyC8D,EAAY,GAAGnC,EAAYoC,EAAY,GAAGC,EAAeD,EAAY,GAAG/D,OAAOX,EAAiB,UAAxBW,EAA2B,WAAWgC,IAAuBG,MAAK,SAAS8B,GAAYC,QAAQC,IAAI,eAAeF,GAAYjB,EAAWiB,GAAYR,EAAmBQ,QAAiB,IAAI,IAA+fG,EAAoB,SAA6B1C,EAAQ2C,GAAQR,EAAgBnC,GAASsC,EAAeK,GAAQC,YAAW,WAAWT,EAAgB,QAAQ,MACvwC,OAAmB7D,OAAOJ,EAAkB,KAAzBI,CAA4B,MAAM,CAACC,SAAS,CAAcD,OAAOJ,EAAiB,IAAxBI,CAA2ByB,EAAwB,CAACC,QAAQkC,EAAajC,YAAYA,IAA2B3B,OAAOJ,EAAiB,IAAxBI,CAA2BH,EAAkB,CAACE,KAAK,cAA2BC,OAAOJ,EAAiB,IAAxBI,CAA2BE,EAAwB,CAACH,KAAK,oBAAoBI,aADoe,SAAsBoE,GAAO,IAAIC,EAAYD,EAAME,OAAO7D,MAAM8D,cAAiBF,EAAYG,OAAO,EAAGlB,EAAmBV,EAAQ6B,QAAO,SAAS7D,GAAQ,OAAOA,EAAOE,KAAKyD,cAAcG,SAASL,OAAuBf,EAAmBzD,OAAON,EAAmC,EAA1CM,CAA6C+C,OACttB/C,OAAOJ,EAAiB,IAAxBI,CAA2BH,EAAkB,CAACE,KAAK,cAA2BC,OAAOJ,EAAiB,IAAxBI,CAA2BK,EAAyB,CAACC,iBAD0H,SAA0BiE,GAAO,OAAOpB,EAAWoB,EAAME,OAAO7D,QACxJL,mBADwL,SAA4BgE,GAAO,OAAOjB,EAAaiB,EAAME,OAAO7D,QACtNJ,UAD2lC,SAAmB+D,GAAO,IAAIO,EAAU,GAAGpC,OAAOjC,EAAQ,+CAA+C8D,EAAMQ,iBAAiB,IAAIC,EAAa,CAAC/D,KAAKR,EAAQS,OAAOR,GAAeuE,EAApjB,SAA8BlE,GAAQ,IAAIkE,EAAQlC,EAAQmC,MAAK,SAASC,GAAG,OAAOA,EAAElE,OAAOF,EAAOE,QAAQ8B,EAAQmC,MAAK,SAASC,GAAG,OAAOA,EAAElE,OAAOF,EAAOE,QAAQG,GAAG,EAAE,OAAa,IAAV6D,GAAkCA,EAAgXG,CAAqBJ,GAAiBC,EAAYI,OAAOC,QAAQR,IAAY9C,EAAqBiD,EAAQD,GAAc7C,MAAK,SAASoD,GAAenB,EAAoB,qBAAqB1B,OAAOsC,EAAa/D,OAAM,GAAOwC,EAAmBnC,EAAgBC,KAAI,SAASR,GAAQ,OAAOA,EAAOE,OAAOR,EAAQ8E,EAAcxE,MAAWiC,EAAW1B,MAA2BU,EAAqBgD,GAAc7C,MAAK,SAASqD,GAAYpB,EAAoB,GAAG1B,OAAOsC,EAAa/D,KAAK,2BAA0B,GAA10B,SAA2B+D,GAAchC,EAAWD,EAAQL,OAAOsC,IAAevB,EAAmBV,EAAQL,OAAOsC,IAA6tBS,CAAkBD,GAAYrC,EAAW,IAAIG,EAAa,OAAOoC,OAAM,SAASC,GAAOvB,EAAoBuB,EAAMvD,SAASC,KAAKsD,OAAM,OAC14DlF,QAAQA,EAAQC,UAAUA,IAAyBV,OAAOJ,EAAiB,IAAxBI,CAA2BH,EAAkB,CAACE,KAAK,YAAyBC,OAAOJ,EAAiB,IAAxBI,CAA2BqB,EAAmB,CAACC,gBAAgBA,EAAgBN,aAA12C,SAAsBC,EAAKG,GAAOiE,OAAOC,QAAQ,UAAU5C,OAAOzB,EAAK,OAAOe,EAA2BZ,GAAIe,MAAK,WAAWiC,EAAoB,GAAG1B,OAAOzB,EAAK,+BAA8B,GAAOwC,EAAmBnC,EAAgBsD,QAAO,SAAS7D,GAAQ,OAAOA,EAAOK,KAAKA,MAAO4B,EAAW1B,MAAoBoE,OAAM,SAASC,GAAOzB,QAAQC,IAAI,eAAewB,GAAOvB,EAAoB,GAAG1B,OAAOzB,EAAK,4CAA2C,GAAMwC,EAAmBnC,EAAgBsD,QAAO,SAAS7D,GAAQ,OAAOA,EAAOK,KAAKA,MAAO4B,EAAW1B,aAE5jB7B,EAAkBwC,EAAE2D,OAAoB5F,OAAOJ,EAAiB,IAAxBI,CAA2BV,EAAc2C,EAAE4D,WAAW,CAAC5F,SAAsBD,OAAOJ,EAAiB,IAAxBI,CAA2B4C,EAAQ,MAAMkD,SAASC,eAAe,WAIpL,CAAC,CAAC,GAAG,EAAE"},"input":"(this[\"webpackJsonpphonebook\"] = this[\"webpackJsonpphonebook\"] || []).push([[0],{\n\n/***/ 23:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 42:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(16);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(17);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/components/Header.js\nvar Header_Header=function Header(_ref){var text=_ref.text;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:text});};/* harmony default export */ var components_Header = (Header_Header);\n// CONCATENATED MODULE: ./src/components/SearchFilter.js\nvar SearchFilter_SearchFilter=function SearchFilter(_ref){var text=_ref.text,handleSearch=_ref.handleSearch;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[text,\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{onChange:handleSearch})]});};/* harmony default export */ var components_SearchFilter = (SearchFilter_SearchFilter);\n// CONCATENATED MODULE: ./src/components/AddPeopleForm.js\nvar AddPeopleForm_AddPeopleForm=function AddPeopleForm(_ref){var handleNameChange=_ref.handleNameChange,handleNumberChange=_ref.handleNumberChange,addPerson=_ref.addPerson,newName=_ref.newName,newNumber=_ref.newNumber;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:addPerson,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"name: \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:newName,onChange:handleNameChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"number: \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:newNumber,onChange:handleNumberChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"add\"})})]});};/* harmony default export */ var components_AddPeopleForm = (AddPeopleForm_AddPeopleForm);\n// CONCATENATED MODULE: ./src/components/Person.js\nvar Person_Person=function Person(_ref){var person=_ref.person,deletePerson=_ref.deletePerson;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[person.name,\" \",person.number,\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return deletePerson(person.name,person.id);},children:\"delete\"})]});};/* harmony default export */ var components_Person = (Person_Person);\n// CONCATENATED MODULE: ./src/components/Persons.js\nvar Persons_Persons=function Persons(_ref){var filteredPersons=_ref.filteredPersons,deletePerson=_ref.deletePerson;return filteredPersons.map(function(person,i){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Person,{person:person,deletePerson:deletePerson},i);});};/* harmony default export */ var components_Persons = (Persons_Persons);\n// EXTERNAL MODULE: ./src/styles/Notification.css\nvar styles_Notification = __webpack_require__(23);\n\n// CONCATENATED MODULE: ./src/components/Notification.js\nvar Notification_Notification=function Notification(_ref){var message=_ref.message,errorStatus=_ref.errorStatus;if(message===null){return null;}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:errorStatus?'error':'alert',children:message});};/* harmony default export */ var components_Notification = (Notification_Notification);\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(5);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// CONCATENATED MODULE: ./src/services/personService.js\nvar baseUrl='/api/persons';var personService_getAll=function getAll(){return axios_default.a.get(baseUrl).then(function(response){return response.data;});};var personService_create=function create(newPerson){return axios_default.a.post(baseUrl,newPerson).then(function(response){return response.data;});};var personService_update=function update(id,newObject){return axios_default.a.put(\"\".concat(baseUrl,\"/\").concat(id),newObject).then(function(response){return response.data;});};var personService_deleteObject=function deleteObject(id){return axios_default.a.delete(\"\".concat(baseUrl,\"/\").concat(id)).then(function(response){return response.data;});};// eslint-disable-next-line\n/* harmony default export */ var personService = ({getAll:personService_getAll,create:personService_create,update:personService_update,deleteObject:personService_deleteObject});\n// CONCATENATED MODULE: ./src/App.js\nvar App_App=function App(){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),persons=_useState2[0],setPersons=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),newName=_useState4[0],setNewName=_useState4[1];var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),newNumber=_useState6[0],setNewNumber=_useState6[1];var _useState7=Object(react[\"useState\"])([]),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),filteredPersons=_useState8[0],setFilteredPersons=_useState8[1];var _useState9=Object(react[\"useState\"])(null),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),errorMessage=_useState10[0],setErrorMessage=_useState10[1];var _useState11=Object(react[\"useState\"])(true),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),errorStatus=_useState12[0],setErrorStatus=_useState12[1];Object(react[\"useEffect\"])(function(){personService.getAll().then(function(peopleList){console.log(\"initial data\",peopleList);setPersons(peopleList);setFilteredPersons(peopleList);});},[]);var handleNameChange=function handleNameChange(event){return setNewName(event.target.value);};var handleNumberChange=function handleNumberChange(event){return setNewNumber(event.target.value);};var handleSearch=function handleSearch(event){var searchEntry=event.target.value.toLowerCase();if(searchEntry.length>0){setFilteredPersons(persons.filter(function(person){return person.name.toLowerCase().includes(searchEntry);}));}else{setFilteredPersons(Object(toConsumableArray[\"a\" /* default */])(persons));}};var handleNotifications=function handleNotifications(message,status){setErrorMessage(message);setErrorStatus(status);setTimeout(function(){setErrorMessage(null);},5000);};var checkDuplicatePerson=function checkDuplicatePerson(person){var foundID=persons.find(function(p){return p.name===person.name;})?persons.find(function(p){return p.name===person.name;}).id:0;if(foundID===0){return false;}return foundID;};var concatPersonLists=function concatPersonLists(personObject){setPersons(persons.concat(personObject));setFilteredPersons(persons.concat(personObject));};var addPerson=function addPerson(event){var alertText=\"\".concat(newName,\" already exists. Update their phone number?\");event.preventDefault();var personObject={name:newName,number:newNumber};var foundID=checkDuplicatePerson(personObject);if(foundID){if(window.confirm(alertText)){personService.update(foundID,personObject).then(function(updatedPerson){handleNotifications(\"Changed number of \".concat(personObject.name),false);setFilteredPersons(filteredPersons.map(function(person){return person.name===newName?updatedPerson:person;}));setPersons(filteredPersons);});}}else{personService.create(personObject).then(function(personList){handleNotifications(\"\".concat(personObject.name,\" was added to the list\"),false);concatPersonLists(personList);setNewName('');setNewNumber('');}).catch(function(error){handleNotifications(error.response.data.error,true);// console.log(error.response.data.error);\n});}};var deletePerson=function deletePerson(name,id){if(window.confirm(\"Delete \".concat(name,\"?\"))){personService.deleteObject(id).then(function(){handleNotifications(\"\".concat(name,\" was removed from the list\"),false);setFilteredPersons(filteredPersons.filter(function(person){return person.id!==id;}));setPersons(filteredPersons);}).catch(function(error){console.log(\"Caught Error\",error);handleNotifications(\"\".concat(name,\" has already been removed from the list\"),true);setFilteredPersons(filteredPersons.filter(function(person){return person.id!==id;}));setPersons(filteredPersons);});}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Notification,{message:errorMessage,errorStatus:errorStatus}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Header,{text:\"Phonebook\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_SearchFilter,{text:\"filter shown with\",handleSearch:handleSearch}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Header,{text:\"add a new\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_AddPeopleForm,{handleNameChange:handleNameChange,handleNumberChange:handleNumberChange,addPerson:addPerson,newName:newName,newNumber:newNumber}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Header,{text:\"Numbers\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Persons,{filteredPersons:filteredPersons,deletePerson:deletePerson})]});};/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));\n\n/***/ })\n\n},[[42,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/ahmed/Documents/PrintLearning/fullstackopen-2021/Part3/phonebook/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/ahmed/Documents/PrintLearning/fullstackopen-2021/Part3/phonebook/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/ahmed/Documents/PrintLearning/fullstackopen-2021/Part3/phonebook/frontend/node_modules/postcss-loader/src/index.js??postcss!/Users/ahmed/Documents/PrintLearning/fullstackopen-2021/Part3/phonebook/frontend/src/styles/Notification.css","/Users/ahmed/Documents/PrintLearning/fullstackopen-2021/Part3/phonebook/frontend/src/components/Header.js","/Users/ahmed/Documents/PrintLearning/fullstackopen-2021/Part3/phonebook/frontend/src/components/SearchFilter.js","/Users/ahmed/Documents/PrintLearning/fullstackopen-2021/Part3/phonebook/frontend/src/components/AddPeopleForm.js","/Users/ahmed/Documents/PrintLearning/fullstackopen-2021/Part3/phonebook/frontend/src/components/Person.js","/Users/ahmed/Documents/PrintLearning/fullstackopen-2021/Part3/phonebook/frontend/src/components/Persons.js","/Users/ahmed/Documents/PrintLearning/fullstackopen-2021/Part3/phonebook/frontend/src/components/Notification.js","/Users/ahmed/Documents/PrintLearning/fullstackopen-2021/Part3/phonebook/frontend/src/services/personService.js","/Users/ahmed/Documents/PrintLearning/fullstackopen-2021/Part3/phonebook/frontend/src/App.js","/Users/ahmed/Documents/PrintLearning/fullstackopen-2021/Part3/phonebook/frontend/src/index.js"],"names":["Header","text","SearchFilter","handleSearch","AddPeopleForm","handleNameChange","handleNumberChange","addPerson","newName","newNumber","Person","person","deletePerson","name","number","id","Persons","filteredPersons","map","i","Notification","message","errorStatus","baseUrl","getAll","axios","get","then","response","data","create","newPerson","post","update","newObject","put","deleteObject","delete","App","useState","persons","setPersons","setNewName","setNewNumber","setFilteredPersons","errorMessage","setErrorMessage","setErrorStatus","useEffect","personService","peopleList","console","log","event","target","value","searchEntry","toLowerCase","length","filter","includes","handleNotifications","status","setTimeout","checkDuplicatePerson","foundID","find","p","concatPersonLists","personObject","concat","alertText","preventDefault","window","confirm","updatedPerson","personList","catch","error","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","import React from 'react';\n\nconst Header = ({ text }) => <h2>{text}</h2> \n\nexport default Header","import React from 'react';\n\nconst SearchFilter = ({ text, handleSearch }) => <div>{text} <input onChange={handleSearch} /></div>\n\nexport default SearchFilter","import React from 'react';\n\nconst AddPeopleForm = ({ handleNameChange, handleNumberChange, addPerson, newName, newNumber }) => {\n\n    return (\n        <form onSubmit={addPerson}>\n            <div>\n            name: <input value={newName} onChange={handleNameChange} />\n            </div>\n            <div>\n            number: <input value={newNumber} onChange={handleNumberChange} />\n            </div>\n            <div>\n            <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default AddPeopleForm","import React from 'react';\n\nconst Person = ({ person, deletePerson }) => {\n    return(\n        <p>{person.name} {person.number} <button onClick={() => deletePerson(person.name, person.id)}>delete</button></p>\n    )\n}\n\nexport default Person","import React from 'react';\n\nimport Person from './Person'\n\nconst Persons = ({ filteredPersons, deletePerson }) => filteredPersons.map((person, i) => {\n    return <Person key={i} person={person} deletePerson={deletePerson} />\n})\n\nexport default Persons","import React from 'react';\n\nimport '../styles/Notification.css'\n\nconst Notification = ({ message, errorStatus }) => {\n    if(message === null) {\n        return null\n    }\n\n    return(\n        <div className={errorStatus ? 'error' : 'alert'}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification;","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    return axios.get(baseUrl).then(response => response.data)\n}\n\nconst create = newPerson => {\n    return axios.post(baseUrl, newPerson).then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    return axios.put(`${baseUrl}/${id}`, newObject).then(response => response.data)\n  }\n\nconst deleteObject = id => {\n    return axios.delete(`${baseUrl}/${id}`).then(response => response.data)\n}\n\n// eslint-disable-next-line\nexport default { getAll, create, update, deleteObject }","import React, { useState, useEffect } from 'react'\n\nimport Header from './components/Header'\nimport SearchFilter from './components/SearchFilter'\nimport AddPeopleForm from './components/AddPeopleForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport personService from './services/personService'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filteredPersons, setFilteredPersons ] = useState([])\n  const [ errorMessage, setErrorMessage ] = useState(null)\n  const [ errorStatus, setErrorStatus ] = useState(true)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(peopleList => {\n        console.log(\"initial data\", peopleList);\n        setPersons(peopleList)\n        setFilteredPersons(peopleList)\n      })\n  }, [])\n\n  const handleNameChange = (event) => setNewName(event.target.value);\n\n  const handleNumberChange = (event) => setNewNumber(event.target.value); \n\n  const handleSearch = (event) => {\n    let searchEntry = (event.target.value).toLowerCase()\n\n    if(searchEntry.length > 0) {\n      setFilteredPersons(persons.filter(person => person.name.toLowerCase().includes(searchEntry)))\n    } else {\n      setFilteredPersons([...persons])\n    }\n  }\n\n  const handleNotifications = (message, status) => {\n    setErrorMessage(message)\n    setErrorStatus(status)\n    setTimeout(() => {\n      setErrorMessage(null)\n    }, 5000)\n  }\n\n  const checkDuplicatePerson = (person) => {\n    let foundID = persons.find(p => p.name === person.name) ? (persons.find(p => p.name === person.name)).id : 0 \n    if (foundID === 0) {\n      return false\n    }\n    return foundID\n  }\n\n  const concatPersonLists = (personObject) => {\n    setPersons(persons.concat(personObject))\n    setFilteredPersons(persons.concat(personObject))\n  }\n\n  const addPerson = (event) => {\n    const alertText = `${newName} already exists. Update their phone number?`\n    event.preventDefault();\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    let foundID = checkDuplicatePerson(personObject)\n    if(foundID) {\n      if(window.confirm(alertText)) {\n        personService\n          .update(foundID, personObject)\n          .then(updatedPerson => {\n            handleNotifications(`Changed number of ${personObject.name}`, false)\n            setFilteredPersons(filteredPersons.map(person => person.name === newName ? updatedPerson : person))\n            setPersons(filteredPersons)\n          })\n      }\n    } else {\n      personService\n        .create(personObject)\n        .then(personList => {\n          handleNotifications(`${personObject.name} was added to the list`, false)\n          concatPersonLists(personList)\n          setNewName('');\n          setNewNumber('');\n        })\n        .catch(error => {\n          handleNotifications(error.response.data.error, true)\n          // console.log(error.response.data.error);\n        })\n    }\n  }\n\n  const deletePerson = (name, id) => {\n    if(window.confirm(`Delete ${name}?`)) {\n      personService\n      .deleteObject(id)\n      .then(() => {\n        handleNotifications(`${name} was removed from the list`, false)\n        setFilteredPersons(filteredPersons.filter(person => person.id !== id))\n        setPersons(filteredPersons)\n      })\n      .catch(error => {\n        console.log(\"Caught Error\", error);\n        handleNotifications(`${name} has already been removed from the list`, true)\n        setFilteredPersons(filteredPersons.filter(person => person.id !== id))\n        setPersons(filteredPersons)\n      })\n    } \n  }\n\n  return (\n    <div>\n      <Notification message={errorMessage} errorStatus={errorStatus} />\n      <Header text=\"Phonebook\" />\n      <SearchFilter text=\"filter shown with\" handleSearch={handleSearch} />\n      <Header text=\"add a new\" />\n      <AddPeopleForm \n        handleNameChange={handleNameChange} \n        handleNumberChange={handleNumberChange} \n        addPerson={addPerson} \n        newName={newName} newNumber={newNumber} \n      />\n      <Header text=\"Numbers\" />\n      <Persons filteredPersons={filteredPersons} deletePerson={deletePerson} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"]}}